{
  "scgeo_version": "0.1.0-dev",
  "tl": [
    {
      "name": "scgeo.tl.align_vectors",
      "signature": "(adata, vec_key: 'str', ref_vec_key: 'Optional[str]' = None, *, ref_from_shift: 'bool' = False, shift_store_key: 'str' = 'scgeo', shift_kind: 'str' = 'shift', shift_level: 'str' = 'global', shift_index_key: 'Optional[str]' = None, obs_key: 'str' = 'scgeo_align', store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Cosine alignment between vectors."
    },
    {
      "name": "scgeo.tl.consensus_subspace",
      "signature": "(adata: 'AnnData', rep: 'str' = 'X_pca', condition_key: 'str' = 'condition', group0: 'str | None' = None, group1: 'str | None' = None, sample_key: 'str | None' = None, n_components: 'int' = 2, obs_key_prefix: 'str' = 'cs', store_key: 'str' = 'consensus_subspace', min_cells: 'int' = 20, center: 'bool' = False) -> 'None'",
      "doc": "Compute consensus subspace directions from multiple delta vectors (sample-aware if sample_key is given)."
    },
    {
      "name": "scgeo.tl.density_overlap",
      "signature": "(adata, rep: 'str' = 'X_umap', condition_key: 'str' = 'condition', group1: 'Any' = None, group0: 'Any' = None, *, by: 'Optional[str]' = None, k: 'int' = 30, eval_on: 'str' = 'union', store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Compute density overlap between two conditions on an embedding using kNN density estimates."
    },
    {
      "name": "scgeo.tl.distribution_test",
      "signature": "(adata, rep: 'str' = 'X_pca', condition_key: 'str' = 'condition', group1: 'Any' = None, group0: 'Any' = None, *, sample_key: 'Optional[str]' = None, by: 'Optional[str]' = None, method: 'str' = 'energy', n_perm: 'int' = 500, seed: 'int' = 0, store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Distribution difference test with sample-aware permutation."
    },
    {
      "name": "scgeo.tl.map_knn",
      "signature": "(adata_ref, adata_q, label_key: 'str' = 'cell_type', rep: 'str' = 'X_pca', k: 'int' = 25, ood_quantile: 'float' = 0.99, out_label_key: 'str' = 'scgeo_label', out_conf_key: 'str' = 'scgeo_confidence', out_ent_key: 'str' = 'scgeo_entropy', out_ood_key: 'str' = 'scgeo_ood', store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "kNN mapping reference->query with QC:"
    },
    {
      "name": "scgeo.tl.map_query_to_ref",
      "signature": "(adata, *, ref_key: 'str', ref_value: 'str', label_key: 'str', query_key: 'Optional[str]' = None, query_value: 'Optional[str]' = None, graph_key: 'str' = 'connectivities', conf_method: 'str' = 'entropy_margin', ood_method: 'str' = 'connectivity_mass', reject_conf: 'Optional[float]' = None, reject_ood: 'Optional[float]' = None, rep: 'Optional[str]' = None, store_key: 'str' = 'map_query_to_ref', pred_key: 'str' = 'scgeo_pred', conf_key: 'str' = 'scgeo_conf', conf_entropy_key: 'str' = 'scgeo_conf_entropy', conf_margin_key: 'str' = 'scgeo_conf_margin', ood_key: 'str' = 'scgeo_ood', reject_key: 'str' = 'scgeo_reject', return_probs: 'bool' = False, probs_key: 'str' = 'X_map_probs', label_order_key: 'str' = 'map_label_order') -> 'None'",
      "doc": "Graph-native reference mapping + QC that is agnostic to how the graph was built"
    },
    {
      "name": "scgeo.tl.map_query_to_ref_pool",
      "signature": "(adata, pool: 'ReferencePool', *, rep: 'str', k: 'int' = 30, weight_method: 'str' = 'inv', conf_method: 'str' = 'entropy_margin', ood_method: 'str' = 'distance', reject_conf: 'Optional[float]' = None, reject_ood: 'Optional[float]' = None, store_key: 'str' = 'map_query_to_ref', pred_key: 'str' = 'scgeo_pred', conf_key: 'str' = 'scgeo_conf', conf_entropy_key: 'str' = 'scgeo_conf_entropy', conf_margin_key: 'str' = 'scgeo_conf_margin', ood_key: 'str' = 'scgeo_ood', reject_key: 'str' = 'scgeo_reject', return_probs: 'bool' = False, probs_key: 'str' = 'X_map_probs', label_order_key: 'str' = 'map_label_order') -> 'None'",
      "doc": "Embedding-only mapping using a ReferencePool (ANN index)."
    },
    {
      "name": "scgeo.tl.map_query_to_ref_pool_census",
      "signature": "(adata_q, *, pool=None, census=None, rep: 'str' = 'X_emb', embedding_name: 'Optional[str]' = None, organism: 'str' = 'homo_sapiens', label_key: 'str' = 'cell_type', obs_columns: 'Optional[Sequence[str]]' = None, k: 'int' = 50, max_refs: 'int' = 200000, dedup: 'bool' = True, index_metric: 'str' = 'euclidean', index_seed: 'int' = 0, census_obs_filter: 'Optional[str]' = None, store_key: 'str' = 'map_query_to_ref', pred_key: 'str' = 'scgeo_pred', conf_key: 'str' = 'scgeo_conf', conf_entropy_key: 'str' = 'scgeo_conf_entropy', conf_margin_key: 'str' = 'scgeo_conf_margin', ood_key: 'str' = 'scgeo_ood', reject_key: 'str' = 'scgeo_reject', conf_method: 'str' = 'entropy_margin', ood_method: 'str' = 'distance', reject_conf: 'Optional[float]' = None, reject_ood: 'Optional[float]' = None, return_probs: 'bool' = False, probs_key: 'str' = 'X_map_probs', label_order_key: 'str' = 'map_label_order') -> 'None'",
      "doc": "Phase B canonical spell:"
    },
    {
      "name": "scgeo.tl.mixscore",
      "signature": "(adata, label_key: 'str' = 'batch', rep: 'str' = 'X_pca', k: 'int' = 50, use_connectivities: 'bool' = True, connectivities_key: 'str' = 'connectivities', obs_key: 'str' = 'scgeo_mixscore', store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "kNN label mixing score in [0,1]:"
    },
    {
      "name": "scgeo.tl.paga_composition_stats",
      "signature": "(adata, group_key: 'str', condition_key: 'str', group0: 'Any', group1: 'Any', *, sample_key: 'Optional[str]' = None, method: 'str' = 'gee', n_boot: 'int' = 1000, seed: 'int' = 0, store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "For each cluster/node, test enrichment of condition1 vs condition0."
    },
    {
      "name": "scgeo.tl.projection_disagreement",
      "signature": "(adata, sources: 'Sequence[Dict[str, Any]]', obs_key: 'str' = 'scgeo_disagree', store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Compute per-cell projection disagreement among multiple vector sources."
    },
    {
      "name": "scgeo.tl.shift",
      "signature": "(adata, rep: 'str' = 'X_pca', condition_key: 'str' = 'condition', group1: 'Any' = None, group0: 'Any' = None, by: 'Optional[str]' = None, sample_key: 'Optional[str]' = None, store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Compute mean shift vector \u0394 = \u03bc1 - \u03bc0 in representation space."
    },
    {
      "name": "scgeo.tl.velocity_delta_alignment",
      "signature": "(adata, *, velocity_key: 'Optional[str]' = None, rep_for_shift: 'str' = 'X_umap', condition_key: 'str' = 'condition', group1: 'Any' = None, group0: 'Any' = None, by: 'Optional[str]' = None, sample_key: 'Optional[str]' = None, shift_level: 'str' = 'global', shift_index_key: 'Optional[str]' = None, obs_key: 'str' = 'scgeo_vel_delta_align', store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Convenience wrapper for scVelo/CellRank workflows:"
    },
    {
      "name": "scgeo.tl.wasserstein",
      "signature": "(adata, rep: 'str' = 'X_pca', condition_key: 'str' = 'condition', group1: 'Any' = None, group0: 'Any' = None, *, by: 'Optional[str]' = None, n_proj: 'int' = 128, p: 'int' = 2, seed: 'int' = 0, store_key: 'str' = 'scgeo') -> 'None'",
      "doc": "Compute (sliced) Wasserstein distance between two conditions in embedding space."
    }
  ],
  "pl": [
    {
      "name": "scgeo.pl._fallback_palette",
      "signature": "(labels: 'np.ndarray')",
      "doc": ""
    },
    {
      "name": "scgeo.pl._get_scanpy_palette",
      "signature": "(adata, groupby: 'str')",
      "doc": "Return Scanpy-style palette mapping {category -> color} if available."
    },
    {
      "name": "scgeo.pl.alignment_panel",
      "signature": "(adata, score_key: 'str', *, basis: 'str' = 'umap', topk: 'Optional[int]' = 200, cmap: 'str' = 'viridis', figsize=(11, 5), title: 'Optional[str]' = None, show: 'bool' = True)",
      "doc": "1\u00d72 panel:"
    },
    {
      "name": "scgeo.pl.ambiguity_panel",
      "signature": "(adata, score_key: 'str', *, basis: 'str' = 'umap', topk: 'Optional[int]' = 200, cmap: 'str' = 'inferno', figsize=(11, 5), title: 'Optional[str]' = None, show: 'bool' = True)",
      "doc": "1\u00d72 panel:"
    },
    {
      "name": "scgeo.pl.consensus_structure",
      "signature": "(adata, *, score_key: 'str' = 'cs_score', basis: 'str' = 'umap', groupby: 'str' = 'louvain', topk: 'int' = 300, bg_size: 'float' = 6.0, bg_alpha: 'float' = 0.25, hi_size: 'float' = 30.0, hi_alpha: 'float' = 0.95, cmap: 'str' = 'viridis', outline_lw: 'float' = 1.6, outline_alpha: 'float' = 0.95, use_scanpy_colors: 'bool' = True, min_frac_in_legend: 'float' = 0.0, title: 'Optional[str]' = None, figsize=(6.5, 5.5), ax=None, show: 'bool' = True, print_legend: 'bool' = True) -> 'tuple[Any, Any, ConsensusStructureStats, List[Dict[str, Any]]]'",
      "doc": "Consensus structure (UMAP only) + legend returned separately."
    },
    {
      "name": "scgeo.pl.consensus_subspace_panel",
      "signature": "(adata, *, score_key: 'str' = 'cs_score', basis: 'str' = 'umap', store_key: 'str' = 'consensus_subspace', topk: 'Optional[int]' = 200, figsize=(11, 5), show: 'bool' = True)",
      "doc": "Panel for consensus subspace:"
    },
    {
      "name": "scgeo.pl.delta_rank",
      "signature": "(adata, store_key: 'str' = 'scgeo', kind: 'str' = 'shift', level: 'str' = 'by', *, top_n: 'int | None' = None, rotate_xticks: 'int' = 60)",
      "doc": "Rank groups by delta magnitude (||\u0394||) and plot with readable x tick labels."
    },
    {
      "name": "scgeo.pl.density_overlap",
      "signature": "(adata, *, store_key: 'str' = 'density_overlap', level: 'str' = 'by', metrics: 'Tuple[str, ...]' = ('bc', 'hellinger'), top_k: 'Optional[int]' = 10, highlight: 'str' = 'worst', sort_by: 'Optional[str]' = None, style: \"Literal['bar', 'lollipop']\" = 'lollipop', annotate: 'bool' = True, grid: 'bool' = True, figsize=None, show: 'bool' = True)",
      "doc": "Plot density overlap summaries from ``sg.tl.density_overlap``."
    },
    {
      "name": "scgeo.pl.density_overlap_grid",
      "signature": "(adata, *, key: 'str' = 'density_overlap', basis: 'str' = 'umap', panel: 'str' = 'overlap', ax=None, figsize=(5.5, 5.0), cmap: 'str' = 'magma', alpha_points: 'float' = 0.05, show_points: 'bool' = True, title: 'Optional[str]' = None, show: 'bool' = True)",
      "doc": "Visualize density overlap results from `tl.density_overlap`."
    },
    {
      "name": "scgeo.pl.distribution_report",
      "signature": "(adata, *, basis: 'str' = 'umap', condition_key: 'str' = 'condition', group0: 'Optional[str]' = None, group1: 'Optional[str]' = None, density_key: 'str' = 'density_overlap', test_key: 'str' = 'distribution_test', score_key: 'Optional[str]' = None, top_k: 'int' = 8, figsize=(11, 8), show: 'bool' = True)",
      "doc": "2\u00d72 report panel for cross-condition embedding comparison."
    },
    {
      "name": "scgeo.pl.distribution_test",
      "signature": "(adata, *, store_key: 'str' = 'distribution_test', level: 'str' = 'by', value: 'str' = 'p_perm', stat_key: 'str' = 'stat', top_k: 'Optional[int]' = 10, highlight: 'str' = 'strongest', figsize=None, show: 'bool' = True)",
      "doc": "Plot distribution test summaries from `sg.tl.distribution_test`."
    },
    {
      "name": "scgeo.pl.distribution_test_volcano",
      "signature": "(adata, *, key: 'str' = 'distribution_test', effect_col: 'str' = 'effect', p_col: 'str' = 'p_adj', label_col: 'str' = 'group', top_n_labels: 'int' = 10, ax=None, figsize=(6.0, 5.0), title: 'str | None' = None, show: 'bool' = True)",
      "doc": "Volcano-like plot for distribution/comparison results."
    },
    {
      "name": "scgeo.pl.embedding_density",
      "signature": "(adata, groupby: 'str', *, basis: 'str' = 'umap', groups: 'Optional[Iterable[str]]' = None, gridsize: 'int' = 160, normalize: 'str' = 'per_group', cmap: 'str' = 'magma', contour: 'bool' = False, contour_levels: 'int' = 12, imshow_alpha: 'float' = 0.85, transparent_background: 'bool' = True, mask_zeros: 'bool' = True, background: 'Optional[str]' = None, figsize=None, show: 'bool' = True, smooth_k: 'int' = 5, log1p: 'bool' = True, contour_lines: 'bool' = True, contour_linewidth: 'float' = 0.7, contour_alpha: 'float' = 0.95, contour_level_mode: 'str' = 'quantile')",
      "doc": "Plot embedding density per group (small multiples)."
    },
    {
      "name": "scgeo.pl.highlight_topk_cells",
      "signature": "(adata, score_key: 'str', basis: 'str' = 'umap', *, topk: 'int' = 300, ax=None, figsize=(5.8, 5.2), bg_size: 'float' = 6.0, bg_alpha: 'float' = 0.2, hi_size: 'float' = 30.0, hi_alpha: 'float' = 0.95, cmap: 'str' = 'viridis', title: 'str | None' = None, show: 'bool' = True, groupby: 'str | None' = None, use_scanpy_colors: 'bool' = True, outline_topk: 'bool' = False, outline_lw: 'float' = 1.6, outline_alpha: 'float' = 0.95, add_colorbar: 'bool' = True)",
      "doc": "Highlight top-k cells by a score on an embedding."
    },
    {
      "name": "scgeo.pl.legend_from_data",
      "signature": "(legend_data: 'Iterable[Dict[str, Any]]', *, max_items: 'int' = 20, ncol: 'int' = 1, fontsize: 'int' = 8, markersize: 'int' = 6, title: 'str | None' = None, figsize: 'Tuple[float, float] | None' = None, show: 'bool' = True)",
      "doc": "Render a tiny legend-only figure from legend_data produced by sg.pl.consensus_structure(...)."
    },
    {
      "name": "scgeo.pl.mapping_confidence_umap",
      "signature": "(adata, conf_key: 'str' = 'map_confidence', *, basis: 'str' = 'umap', highlight_low_k: 'Optional[int]' = 200, title: 'Optional[str]' = None, show: 'bool' = True)",
      "doc": ""
    },
    {
      "name": "scgeo.pl.mapping_qc_panel",
      "signature": "(adata, *, pred_key: 'str' = 'map_pred', conf_key: 'str' = 'map_confidence', ood_key: 'str' = 'map_ood_score', basis: 'str' = 'umap', show: 'bool' = True, palette_from: 'str | None' = None, condition_key: 'str | None' = None, query_value: 'str | None' = None, show_ref_as_grey: 'bool' = True, return_legend_data: 'bool' = False)",
      "doc": ""
    },
    {
      "name": "scgeo.pl.ood_cells",
      "signature": "(adata, ood_key: 'str' = 'map_ood_score', *, basis: 'str' = 'umap', threshold: 'Optional[float]' = None, show_only_flagged: 'bool' = False, title: 'Optional[str]' = None, show: 'bool' = True)",
      "doc": ""
    },
    {
      "name": "scgeo.pl.paga_composition_bar",
      "signature": "(adata, *, store_key: 'str' = 'scgeo', kind: 'str' = 'paga_composition_stats', effect: 'Optional[str]' = None, p_col: 'Optional[str]' = None, top_k: 'int' = 15, sort_by: 'Optional[str]' = None, ax=None, figsize=(6.2, 4.2), title: 'str' = 'ScGeo: Top composition shifts', show: 'bool' = True)",
      "doc": "Bar plot of top_k nodes by evidence + effect."
    },
    {
      "name": "scgeo.pl.paga_composition_panel",
      "signature": "(adata, *, store_key: 'str' = 'scgeo', kind: 'str' = 'paga_composition_stats', effect: 'Optional[str]' = None, p_col: 'Optional[str]' = None, top_k: 'int' = 10, figsize=(12, 4.2), show: 'bool' = True)",
      "doc": "1\u00d72 panel: volcano + top-k bars."
    },
    {
      "name": "scgeo.pl.paga_composition_volcano",
      "signature": "(adata, *, store_key: 'str' = 'scgeo', kind: 'str' = 'paga_composition_stats', effect: 'Optional[str]' = None, p_col: 'Optional[str]' = None, top_k: 'int' = 10, label: 'bool' = True, ax=None, figsize=(5.2, 4.2), title: 'str' = 'ScGeo: PAGA composition volcano', show: 'bool' = True)",
      "doc": "Volcano plot: x = signed effect (logOR/beta/effect), y = -log10(q or p)."
    },
    {
      "name": "scgeo.pl.score_embedding",
      "signature": "(adata, score_key: 'str', basis: 'str' = 'umap', *, layer: 'Optional[str]' = None, ax: 'Optional[plt.Axes]' = None, title: 'Optional[str]' = None, size: 'float' = 6.0, alpha: 'float' = 0.8, cmap: 'str' = 'viridis', vmin=None, vmax=None, na_color: 'str' = 'lightgrey', figsize=None, show: 'bool' = True)",
      "doc": "Plot an obs score on an embedding (UMAP/PCA/etc) with minimal dependencies."
    },
    {
      "name": "scgeo.pl.score_umap",
      "signature": "(adata, score_key: 'str', **kwargs)",
      "doc": ""
    }
  ]
}
